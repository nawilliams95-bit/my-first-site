<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact | Realty Data Labs</title>

    <!-- GLOBAL + CONTACT CSS -->
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/contact.css" />
  </head>

  <body>
    <!-- SITE HEADER -->
    <header class="site-header">
      <div class="container header-inner">
        <a class="brand" href="index.html">
          <img
            class="brand-logo"
            src="images/logo.jpg"
            alt="Realty Data Labs logo"
          />
          <span class="brand-name">Realty Data Labs</span>
        </a>

        <nav class="nav">
          <a href="index.html">Home</a>
          <a href="auth.html" class="nav-cta">Sign In / Sign Up</a>
          <a href="analyzer.html">Property Analyzer</a>
          <a href="about.html">About</a>
          <a href="contact.html" class="active">Contact</a>
        </nav>
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="contact-page">
      <div class="container">

        <!-- PAGE HEADER -->
        <div class="page-center">
          <h1>Contact Us</h1>
          <p class="subhead">
            Use this form to request a resource, suggest a tool, or ask a
            question. I read every message.
          </p>
        </div>

        <!-- CONTACT FORM -->
        <div class="contact-wrap">
          <section class="contact-card">
            <h2>Send us a message</h2>

            <!-- Formspree form -->
            <form
              class="form"
              id="contact-form"
              action="https://formspree.io/f/mzddbzpd"
              method="POST"
            >
              <!-- Redirect after submit (ABSOLUTE URL REQUIRED) -->
              <input
                type="hidden"
                name="_redirect"
                value="https://realtydatalabs.com/thank-you.html"
              />

              <label class="field">
                <span class="label">Name</span>
                <input
                  type="text"
                  name="name"
                  placeholder="Your name"
                  required
                />
              </label>

              <label class="field">
                <span class="label">Email</span>
                <input
                  type="email"
                  name="email"
                  placeholder="you@email.com"
                  required
                />
              </label>

              <label class="field">
                <span class="label">Message</span>
                <textarea
                  name="message"
                  placeholder="What do you need?"
                  required
                ></textarea>
              </label>

              <div class="form-row">
                <button class="btn" type="submit">Send message</button>
                <span class="muted">
                  Your message will be delivered securely.
                </span>
              </div>
            </form>
          </section>
        </div>

        <!-- Success message -->
        <div id="success-message" style="display: none; text-align: center;">
          <h2>Thank you!</h2>
          <p>Your message has been sent successfully. We'll get back to you soon.</p>
          <a href="index.html" class="btn">Back to Home</a>
        </div>

      </div>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-inner">

        <nav class="footer-nav">
          <a href="index.html">Home</a>
          <a href="auth.html">Sign In / Sign Up</a>
          <a href="analyzer.html">Property Analyzer</a>
          <a href="about.html">About</a>
          <a href="contact.html">Contact</a>
        </nav>

        <div class="footer-disclaimer">
          <p>
            Realty Data Labs provides general real estate, housing market, and economic
            information for educational purposes only.
          </p>
          <p>
            The author of this site is a licensed real estate agent in the State of Georgia.
          </p>
        </div>

        <div class="footer-meta">
          <p>Â© <span id="year"></span> Realty Data Labs</p>
        </div>

      </div>
    </footer>

    <script>
      document.getElementById("year").textContent =
        new Date().getFullYear();

      // Handle form submission using AJAX
      const form = document.getElementById("contact-form");
      form.addEventListener("submit", async function (e) {
        e.preventDefault(); // Prevent default form submission

        const formData = new FormData(form);

        const response = await fetch(form.action, {
          method: "POST",
          body: formData,
          headers: {
            Accept: "application/json"
          }
        });

        // Show success message if submission is successful
        if (response.ok) {
          form.style.display = "none"; // Hide form
          document.getElementById("success-message").style.display = "block"; // Show success message
        } else {
          alert("There was an issue sending your message. Please try again.");
        }
      });
    </script>
  </body>
</html>
